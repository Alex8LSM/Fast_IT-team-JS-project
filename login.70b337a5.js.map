{"version":3,"sources":["js/login.js"],"names":["modal","document","getElementById","btndesk","btnclose","getElementsByClassName","myModalBuy","style","display","onclick","window","event","target","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","auth","database","registerUser","logInUser","register","email","value","password","full_name","validate_email","validate_password","validate_field","createUserWithEmailAndPassword","then","user","currentUser","database_ref","ref","user_data","last_login","Date","now","logIn","child","uid","set","alert","catch","error","code","error_code","error_message","message","login","signInWithEmailAndPassword","update","expression","test","field","length","addEventListener"],"mappings":";AAAA,MAAMA,EAAQC,SAASC,eAAe,cAChCC,EAAUF,SAASC,eAAe,YAClCE,EAAWH,SAASI,uBAAuB,SAAS,GAS1D,SAASC,IACPN,EAAMO,MAAMC,QAAU,QATxBJ,EAASK,QAAU,WACjBT,EAAMO,MAAMC,QAAU,QAExBE,OAAOD,QAAU,SAAUE,GACrBA,EAAMC,QAAUZ,IAClBA,EAAMO,MAAMC,QAAU,SAM1BL,EAAQM,QAAUH,EAGlB,MAAMO,EAAiB,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,YAAa,oDACbC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,6CAETC,SAASC,cAAcT,GAEvB,MAAMU,EAAOF,SAASE,OAChBC,EAAWH,SAASG,WACpBC,EAAexB,SAASC,eAAe,gBACvCwB,EAAYzB,SAASC,eAAe,aAK1C,SAASyB,IACPC,MAAQ3B,SAASC,eAAe,SAAS2B,MACzCC,SAAW7B,SAASC,eAAe,YAAY2B,MAC/CE,UAAY9B,SAASC,eAAe,QAAQ2B,MAEf,GAAzBG,EAAeJ,QAAkD,GAA/BK,EAAkBH,UAIvB,GAA7BI,EAAeH,WAKnBR,EACGY,+BAA+BP,MAAOE,UACtCM,KAAK,WACEC,MAAAA,EAAOd,EAAKe,YACZC,EAAef,EAASgB,MACxBC,EAAY,CAChBb,MAAOA,MACPG,UAAWA,UACXW,WAAYC,KAAKC,MACjBC,OAAO,GAETN,EAAaO,MAAM,SAAWT,EAAKU,KAAKC,IAAIP,GAC5CQ,MAAM,oBAEPC,MAAM,SAAUC,GACIA,EAAMC,KAAnBC,MACAC,EAAgBH,EAAMI,QAC5BN,MAAMK,KArBRL,MAAM,4CAJNA,MAAM,qCA4BV,SAASO,IACP5B,MAAQ3B,SAASC,eAAe,SAAS2B,MACzCC,SAAW7B,SAASC,eAAe,YAAY2B,MAClB,GAAzBG,EAAeJ,QAAkD,GAA/BK,EAAkBH,UAKxDP,EACGkC,2BAA2B7B,MAAOE,UAClCM,KAAK,WACEC,MAAAA,EAAOd,EAAKe,YACZC,EAAef,EAASgB,MACxBC,EAAY,CAChBC,WAAYC,KAAKC,OAEnBL,EAAaO,MAAM,SAAWT,EAAKU,KAAKW,OAAOjB,GAC/CQ,MAAM,sBAEPC,MAAM,SAAUC,GACIA,EAAMC,KAAnBC,MACAC,EAAgBH,EAAMI,QAE5BN,MAAMK,KAnBRL,MAAM,qCAsBV,SAASjB,EAAeJ,GAElB+B,OADJA,WAAa,wBACiB,GAA1BA,WAAWC,KAAKhC,GAOtB,SAASK,EAAkBH,GACrBA,QAAAA,EAAW,GAOjB,SAASI,EAAe2B,GAClBA,OAAS,MAATA,KAIAA,EAAMC,QAAU,GArFtBrC,EAAasC,iBAAiB,QAASpC,GACvCD,EAAUqC,iBAAiB,QAASP","file":"login.70b337a5.js","sourceRoot":"../src","sourcesContent":["const modal = document.getElementById('loginModal');\nconst btndesk = document.getElementById('loginBtn');\nconst btnclose = document.getElementsByClassName('close')[0];\nbtnclose.onclick = function () {\n  modal.style.display = 'none';\n};\nwindow.onclick = function (event) {\n  if (event.target == modal) {\n    modal.style.display = 'none';\n  }\n};\nfunction myModalBuy() {\n  modal.style.display = 'block';\n}\nbtndesk.onclick = myModalBuy;\n\n//firebase\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAV2ss40V5eT7frdT-RAJIEsm8Mz9X_mmk',\n  authDomain: 'new-film-auth.firebaseapp.com',\n  databaseURL: 'https://new-film-auth-default-rtdb.firebaseio.com',\n  projectId: 'new-film-auth',\n  storageBucket: 'new-film-auth.appspot.com',\n  messagingSenderId: '895072161140',\n  appId: '1:895072161140:web:9e2a11665e938f1e393021',\n};\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst database = firebase.database();\nconst registerUser = document.getElementById('registerUser');\nconst logInUser = document.getElementById('logInUser');\n//\nregisterUser.addEventListener('click', register);\nlogInUser.addEventListener('click', login);\n//\nfunction register() {\n  email = document.getElementById('email').value;\n  password = document.getElementById('password').value;\n  full_name = document.getElementById('name').value;\n\n  if (validate_email(email) == false || validate_password(password) == false) {\n    alert('Email or Password is Outta Line!!');\n    return;\n  }\n  if (validate_field(full_name) == false) {\n    alert('One or More Extra Fields is Outta Line!!');\n    return;\n  }\n\n  auth\n    .createUserWithEmailAndPassword(email, password)\n    .then(function () {\n      const user = auth.currentUser;\n      const database_ref = database.ref();\n      const user_data = {\n        email: email,\n        full_name: full_name,\n        last_login: Date.now(),\n        logIn: false,\n      };\n      database_ref.child('users/' + user.uid).set(user_data);\n      alert('User Created!!');\n    })\n    .catch(function (error) {\n      const error_code = error.code;\n      const error_message = error.message;\n      alert(error_message);\n    });\n}\nfunction login() {\n  email = document.getElementById('email').value;\n  password = document.getElementById('password').value;\n  if (validate_email(email) == false || validate_password(password) == false) {\n    alert('Email or Password is Outta Line!!');\n    return;\n  }\n\n  auth\n    .signInWithEmailAndPassword(email, password)\n    .then(function () {\n      const user = auth.currentUser;\n      const database_ref = database.ref();\n      const user_data = {\n        last_login: Date.now(),\n      };\n      database_ref.child('users/' + user.uid).update(user_data);\n      alert('User Logged In!!');\n    })\n    .catch(function (error) {\n      const error_code = error.code;\n      const error_message = error.message;\n\n      alert(error_message);\n    });\n}\nfunction validate_email(email) {\n  expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n  if (expression.test(email) == true) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction validate_password(password) {\n  if (password < 6) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nfunction validate_field(field) {\n  if (field == null) {\n    return false;\n  }\n\n  if (field.length <= 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n"]}